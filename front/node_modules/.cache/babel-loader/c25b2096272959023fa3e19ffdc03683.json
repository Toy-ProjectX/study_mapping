{"ast":null,"code":"var _jsxFileName = \"/Users/mindong-yeob/Desktop/toyproject_frontend/src/board/views/ArticlePage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\nimport { articleActions } from \"../sagas/articleSlice\";\nimport ArticleDetail from \"./ArticleDetail\";\nimport { Button, Typography } from \"antd\";\nimport { Link } from \"react-router-dom\";\nimport Comment from \"./Comment\";\nimport { commentActions } from \"../sagas/commentSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ArticlePage({\n  match,\n  location\n}) {\n  _s();\n\n  // console.log(match.params.articleId);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(articleActions.getArticle(match.params.articleId));\n    dispatch(commentActions.getComments(match.params.articleId));\n  }, []);\n  const {\n    id,\n    title,\n    content,\n    date\n  } = useSelector(state => ({\n    id: state.articleReducers.id,\n    title: state.articleReducers.title,\n    content: state.articleReducers.content,\n    date: state.articleReducers.date\n  }), shallowEqual);\n  const views = useSelector(state => state.articleReducers.views);\n  const comments = useSelector(state => state.commentReducers.comments);\n\n  const onDeleteClick = () => {\n    if (!window.confirm(\"삭제하시겠습니까?\")) return false;\n    dispatch(articleActions.deleteArticle(id));\n  };\n\n  const [CommentValue, setCommentValue] = useState(\"\");\n\n  const onCommentChange = e => {\n    setCommentValue(e.currentTarget.value);\n  };\n\n  const onCommentSubmit = () => {\n    if (CommentValue === \"\" || CommentValue === null || CommentValue === undefined) {\n      alert(\"댓글을 입력하십시오.\");\n      return false;\n    }\n\n    const comment = {\n      id: 0,\n      content: CommentValue,\n      date: Date.now(),\n      articleId: id\n    };\n    dispatch(commentActions.registerComment(comment));\n  };\n\n  const onDeleteComment = commentId => {\n    dispatch(commentActions.deleteComment(commentId));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: \"80%\",\n      margin: \"3rem auto\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(ArticleDetail, {\n        id: id,\n        title: title,\n        content: content,\n        views: views,\n        date: date,\n        handleDeleteClick: onDeleteClick,\n        handleComment: /*#__PURE__*/_jsxDEV(Comment, {\n          comment: CommentValue,\n          handleCommentChange: onCommentChange,\n          handleCommentSubmit: onCommentSubmit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 15\n        }, this),\n        loadComments: comments,\n        deleteComment: onDeleteComment\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: \"2rem auto\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: `/edit/${id}?isForEdit=true`,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          children: \"\\uC218\\uC815\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 7\n  }, this);\n}\n\n_s(ArticlePage, \"TpNNBSacoRQJCbfqDsUkFXPXOGs=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = ArticlePage;\nexport default ArticlePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ArticlePage\");","map":{"version":3,"sources":["/Users/mindong-yeob/Desktop/toyproject_frontend/src/board/views/ArticlePage.js"],"names":["React","useState","useEffect","shallowEqual","useDispatch","useSelector","articleActions","ArticleDetail","Button","Typography","Link","Comment","commentActions","ArticlePage","match","location","dispatch","getArticle","params","articleId","getComments","id","title","content","date","state","articleReducers","views","comments","commentReducers","onDeleteClick","window","confirm","deleteArticle","CommentValue","setCommentValue","onCommentChange","e","currentTarget","value","onCommentSubmit","undefined","alert","comment","Date","now","registerComment","onDeleteComment","commentId","deleteComment","width","margin"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"; \nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\"; \nimport { articleActions } from \"../sagas/articleSlice\"; \nimport ArticleDetail from \"./ArticleDetail\"; \nimport{Button,Typography} from \"antd\";\nimport{Link} from \"react-router-dom\"\nimport Comment from \"./Comment\";\nimport { commentActions } from \"../sagas/commentSlice\";\n\nfunction ArticlePage({ match, location }) {\n    // console.log(match.params.articleId);\n  \n    const dispatch = useDispatch();\n  \n    useEffect(() => {\n      dispatch(articleActions.getArticle(match.params.articleId));\n      dispatch(commentActions.getComments(match.params.articleId));\n    }, []);\n  \n    const { id, title, content, date } = useSelector(\n      (state) => ({\n        id: state.articleReducers.id,\n        title: state.articleReducers.title,\n        content: state.articleReducers.content,\n        date: state.articleReducers.date,\n      }),\n      shallowEqual\n    );\n    const views = useSelector((state) => state.articleReducers.views);\n    const comments = useSelector((state) => state.commentReducers.comments);\n  \n    const onDeleteClick = () => {\n      if (!window.confirm(\"삭제하시겠습니까?\")) return false;\n      dispatch(articleActions.deleteArticle(id));\n    };\n  \n    const [CommentValue, setCommentValue] = useState(\"\");\n  \n    const onCommentChange = (e) => {\n      setCommentValue(e.currentTarget.value);\n    };\n  \n    const onCommentSubmit = () => {\n      if (\n        CommentValue === \"\" ||\n        CommentValue === null ||\n        CommentValue === undefined\n      ) {\n        alert(\"댓글을 입력하십시오.\");\n        return false;\n      }\n      const comment = {\n        id: 0,\n        content: CommentValue,\n        date: Date.now(),\n        articleId: id,\n      };\n  \n      dispatch(commentActions.registerComment(comment));\n    };\n  \n    const onDeleteComment = (commentId) => {\n      dispatch(commentActions.deleteComment(commentId));\n    };\n  \n    return (\n      <div style={{ width: \"80%\", margin: \"3rem auto\" }}>\n        <div>\n          <ArticleDetail\n            id={id}\n            title={title}\n            content={content}\n            views={views}\n            date={date}\n            handleDeleteClick={onDeleteClick}\n            handleComment={\n              <Comment\n                comment={CommentValue}\n                handleCommentChange={onCommentChange}\n                handleCommentSubmit={onCommentSubmit}\n              />\n            }\n            loadComments={comments}\n            deleteComment={onDeleteComment}\n          />\n          \n        </div>\n        <div style={{ margin: \"2rem auto\" }}>\n            <Link to={`/edit/${id}?isForEdit=true`}>\n              <Button type=\"primary\">수정</Button>\n            </Link>\n          </div>\n      </div>\n    );\n  }\n  \n  export default ArticlePage;"]},"metadata":{},"sourceType":"module"}