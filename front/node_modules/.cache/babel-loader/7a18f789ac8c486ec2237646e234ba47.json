{"ast":null,"code":"var _jsxFileName = \"/Users/mindong-yeob/Desktop/toyproject_frontend/src/board/views/BoardPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport BoardList from \"./BoardList\";\nimport { Button, Typography } from \"antd\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { boardActions } from '../sagas/boardSlice';\nimport { articleActions } from \"../sagas/articleSlice\";\nimport { createSelector } from \"@reduxjs/toolkit\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Title\n} = Typography;\n\nfunction BoardPage() {\n  _s();\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  useEffect(() => {\n    dispatch(boardActions.getBoard());\n  }, [dispatch]);\n  const {\n    board,\n    isLoading,\n    isSuccess,\n    error\n  } = useSelector(state => ({\n    board: state.boardReducers.board,\n    isLoading: state.boardReducers.isLoading,\n    isSuccess: state.boardReducers.isSuccess,\n    error: state.boardReducers.error\n  }));\n  const createCommentLength = createSelector(state => state.boardReducers.board, state => state.commentReducers.comments, (articles, comments) => {\n    const commentByArticle = {};\n\n    for (var index in articles) {\n      if (!comments) return commentByArticle;\n      const filteredComments = comments.filter(comment => comment.articleId === articles[index].id);\n      commentByArticle[articles[index].id] = filteredComments.length;\n    }\n\n    return commentByArticle;\n  });\n  const commentLength = useSelector(createCommentLength);\n\n  const onDeleteClick = id => {\n    if (!window.confirm(\"삭제하시겠습니까?\")) return false;\n    dispatch(articleActions.deleteArticle(id));\n  };\n\n  const onArticleTitleClick = id => {\n    const path = `/article/${id}`;\n    history.push(path);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: \"80%\",\n      margin: \"3rem auto\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/register?isForEdit=false\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          children: \"New Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\",\n        marginBottom: \"2rem\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Title, {\n        children: \"\\uAC8C\\uC2DC\\uD310\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"title\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"search\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"search\",\n          placeholder: \"Search something...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            children: \"search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"open-button\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"overlay hidden\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: error ? /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"\\uC5D0\\uB7EC \\uBC1C\\uC0DD: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }, this) : isSuccess && board.length > 0 ? /*#__PURE__*/_jsxDEV(BoardList, {\n        board: board,\n        commentLength: commentLength,\n        handleDeleteClick: onDeleteClick,\n        handleArticleTitleClick: onArticleTitleClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }, this) : isSuccess && board.length <= 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \" \\uC870\\uD68C\\uD560 \\uB0B4\\uC6A9\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4. \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \" \\uBAA9\\uB85D\\uC744 \\uBD88\\uB7EC\\uC624\\uB294 \\uC911\\uC785\\uB2C8\\uB2E4. \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 7\n  }, this);\n}\n\n_s(BoardPage, \"BxcfudJWBJX6DvpsZuAevNxqMZs=\", false, function () {\n  return [useDispatch, useHistory, useSelector, useSelector];\n});\n\n_c = BoardPage;\nexport default BoardPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"BoardPage\");","map":{"version":3,"sources":["/Users/mindong-yeob/Desktop/toyproject_frontend/src/board/views/BoardPage.js"],"names":["React","useEffect","Link","useHistory","BoardList","Button","Typography","useDispatch","useSelector","boardActions","articleActions","createSelector","Title","BoardPage","dispatch","history","getBoard","board","isLoading","isSuccess","error","state","boardReducers","createCommentLength","commentReducers","comments","articles","commentByArticle","index","filteredComments","filter","comment","articleId","id","length","commentLength","onDeleteClick","window","confirm","deleteArticle","onArticleTitleClick","path","push","width","margin","textAlign","marginBottom"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\nimport { Link, useHistory } from 'react-router-dom';\nimport BoardList from \"./BoardList\";\nimport {Button, Typography} from \"antd\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { boardActions } from '../sagas/boardSlice';\nimport { articleActions } from \"../sagas/articleSlice\"; \nimport { createSelector } from \"@reduxjs/toolkit\";\nconst {Title} = Typography;\nfunction BoardPage() {\n    const dispatch = useDispatch();\n    const history = useHistory();\n  \n    useEffect(() => {\n      dispatch(boardActions.getBoard());\n    }, [dispatch]);\n  \n    const { board, isLoading, isSuccess, error } = useSelector((state) => ({\n      board: state.boardReducers.board,\n      isLoading: state.boardReducers.isLoading,\n      isSuccess: state.boardReducers.isSuccess,\n      error: state.boardReducers.error,\n    }));\n  \n    const createCommentLength = createSelector(\n      (state) => state.boardReducers.board,\n      (state) => state.commentReducers.comments,\n      (articles, comments) => {\n        const commentByArticle = {};\n        for (var index in articles) {\n          if (!comments) return commentByArticle;\n  \n          const filteredComments = comments.filter(\n            (comment) => comment.articleId === articles[index].id\n          );\n          commentByArticle[articles[index].id] = filteredComments.length;\n        }\n        return commentByArticle;\n      }\n    );\n  \n    const commentLength = useSelector(createCommentLength);\n  \n    const onDeleteClick = (id) => {\n      if (!window.confirm(\"삭제하시겠습니까?\")) return false;\n      dispatch(articleActions.deleteArticle(id));\n    };\n  \n    const onArticleTitleClick = (id) => {\n      const path = `/article/${id}`;\n      history.push(path);\n    };\n  \n    return (\n      <div style={{ width: \"80%\", margin: \"3rem auto\" }}>\n        <div>\n          <Link to=\"/register?isForEdit=false\">\n            <Button type=\"primary\">New Post</Button>\n          </Link>\n        </div>\n        <div style={{ textAlign: \"center\", marginBottom: \"2rem\" }}>\n          <Title>게시판</Title>\n        </div>\n\n\n        <div class=\"title\">\n        </div>\n        <div class=\"search\">\n          <form>\n            <input type=\"text\" name=\"search\" placeholder=\"Search something...\"/>\n            <button type=\"submit\">\n              <i>search</i>\n            </button>\n          </form>\n          <div class=\"open-button\"></div>\n        </div>\n        <div class=\"overlay hidden\"></div>\n\n        \n\n\n        <div>\n          {error ? (\n            <h2>에러 발생: {error}</h2>\n          ) : isSuccess && board.length > 0 ? (\n            <BoardList\n              board={board}\n              commentLength={commentLength}\n              handleDeleteClick={onDeleteClick}\n              handleArticleTitleClick={onArticleTitleClick}\n            />\n          ) : isSuccess && board.length <= 0 ? (\n            <p> 조회할 내용이 없습니다. </p>\n          ) : (\n            <p> 목록을 불러오는 중입니다. </p>\n          )}\n        </div>\n      </div>\n    );\n  }\n  \n  export default BoardPage;\n  "]},"metadata":{},"sourceType":"module"}