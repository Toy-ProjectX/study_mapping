{"ast":null,"code":"var _jsxFileName = \"/Users/mindong-yeob/Desktop/toyproject_frontend/src/board/views/BoardPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport BoardList from \"./BoardList\";\nimport { Button, Typography } from \"antd\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { boardActions } from \"../sagas/boardSlice\";\nimport { articleActions } from \"../sagas/articleSlice\";\nimport { createSelector } from \"@reduxjs/toolkit\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Title\n} = Typography;\n\nfunction BoardPage() {\n  _s();\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  useEffect(() => {\n    dispatch(boardActions.getBoard());\n  }, [dispatch]);\n  const {\n    board,\n    isLoading,\n    isSuccess,\n    error\n  } = useSelector(state => ({\n    board: state.boardReducers.board,\n    isLoading: state.boardReducers.isLoading,\n    isSuccess: state.boardReducers.isSuccess,\n    error: state.boardReducers.error\n  }));\n  const createCommentLength = createSelector(state => state.boardReducers.board, state => state.commentReducers.comments, (articles, comments) => {\n    const commentByArticle = {};\n\n    for (var index in articles) {\n      if (!comments) return commentByArticle;\n      const filteredComments = comments.filter(comment => comment.articleId === articles[index].id);\n      commentByArticle[articles[index].id] = filteredComments.length;\n    }\n\n    return commentByArticle;\n  });\n  const commentLength = useSelector(createCommentLength);\n\n  const onDeleteClick = id => {\n    if (!window.confirm(\"삭제하시겠습니까?\")) return false;\n    dispatch(articleActions.deleteArticle(id));\n  };\n\n  const onArticleTitleClick = id => {\n    const path = `/article/${id}`;\n    history.push(path);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: \"80%\",\n      margin: \"3rem auto\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/register?isForEdit=false\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          children: \"New Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\",\n        marginBottom: \"2rem\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Title, {\n        children: \"\\uAC8C\\uC2DC\\uD310\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"title\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"search\",\n          placeholder: \"Search something...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            children: \"search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"open-button\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overlay hidden\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: error ? /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"\\uC5D0\\uB7EC \\uBC1C\\uC0DD: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }, this) : isSuccess && board.length > 0 ? /*#__PURE__*/_jsxDEV(BoardList, {\n        board: board,\n        commentLength: commentLength,\n        handleDeleteClick: onDeleteClick,\n        handleArticleTitleClick: onArticleTitleClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }, this) : isSuccess && board.length <= 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \" \\uC870\\uD68C\\uD560 \\uB0B4\\uC6A9\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4. \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \" \\uBAA9\\uB85D\\uC744 \\uBD88\\uB7EC\\uC624\\uB294 \\uC911\\uC785\\uB2C8\\uB2E4. \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n}\n\n_s(BoardPage, \"BxcfudJWBJX6DvpsZuAevNxqMZs=\", false, function () {\n  return [useDispatch, useHistory, useSelector, useSelector];\n});\n\n_c = BoardPage;\nexport default BoardPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"BoardPage\");","map":{"version":3,"sources":["/Users/mindong-yeob/Desktop/toyproject_frontend/src/board/views/BoardPage.js"],"names":["React","useEffect","Link","useHistory","BoardList","Button","Typography","useDispatch","useSelector","boardActions","articleActions","createSelector","Title","BoardPage","dispatch","history","getBoard","board","isLoading","isSuccess","error","state","boardReducers","createCommentLength","commentReducers","comments","articles","commentByArticle","index","filteredComments","filter","comment","articleId","id","length","commentLength","onDeleteClick","window","confirm","deleteArticle","onArticleTitleClick","path","push","width","margin","textAlign","marginBottom"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport BoardList from \"./BoardList\";\nimport { Button, Typography } from \"antd\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { boardActions } from \"../sagas/boardSlice\";\nimport { articleActions } from \"../sagas/articleSlice\";\nimport { createSelector } from \"@reduxjs/toolkit\";\nconst { Title } = Typography;\nfunction BoardPage() {\n    const dispatch = useDispatch();\n    const history = useHistory();\n\n    useEffect(() => {\n        dispatch(boardActions.getBoard());\n    }, [dispatch]);\n\n    const { board, isLoading, isSuccess, error } = useSelector((state) => ({\n        board: state.boardReducers.board,\n        isLoading: state.boardReducers.isLoading,\n        isSuccess: state.boardReducers.isSuccess,\n        error: state.boardReducers.error,\n    }));\n\n    const createCommentLength = createSelector(\n        (state) => state.boardReducers.board,\n        (state) => state.commentReducers.comments,\n        (articles, comments) => {\n            const commentByArticle = {};\n            for (var index in articles) {\n                if (!comments) return commentByArticle;\n\n                const filteredComments = comments.filter(\n                    (comment) => comment.articleId === articles[index].id\n                );\n                commentByArticle[articles[index].id] = filteredComments.length;\n            }\n            return commentByArticle;\n        }\n    );\n\n    const commentLength = useSelector(createCommentLength);\n\n    const onDeleteClick = (id) => {\n        if (!window.confirm(\"삭제하시겠습니까?\")) return false;\n        dispatch(articleActions.deleteArticle(id));\n    };\n\n    const onArticleTitleClick = (id) => {\n        const path = `/article/${id}`;\n        history.push(path);\n    };\n\n    return (\n        <div style={{ width: \"80%\", margin: \"3rem auto\" }}>\n            <div>\n                <Link to=\"/register?isForEdit=false\">\n                    <Button type=\"primary\">New Post</Button>\n                </Link>\n            </div>\n            <div style={{ textAlign: \"center\", marginBottom: \"2rem\" }}>\n                <Title>게시판</Title>\n            </div>\n\n            <div className=\"title\"></div>\n            <div className=\"search\">\n                <form>\n                    <input\n                        type=\"text\"\n                        name=\"search\"\n                        placeholder=\"Search something...\"\n                    />\n                    <button type=\"submit\">\n                        <i>search</i>\n                    </button>\n                </form>\n                <div className=\"open-button\"></div>\n            </div>\n            <div className=\"overlay hidden\"></div>\n\n            <div>\n                {error ? (\n                    <h2>에러 발생: {error}</h2>\n                ) : isSuccess && board.length > 0 ? (\n                    <BoardList\n                        board={board}\n                        commentLength={commentLength}\n                        handleDeleteClick={onDeleteClick}\n                        handleArticleTitleClick={onArticleTitleClick}\n                    />\n                ) : isSuccess && board.length <= 0 ? (\n                    <p> 조회할 내용이 없습니다. </p>\n                ) : (\n                    <p> 목록을 불러오는 중입니다. </p>\n                )}\n            </div>\n        </div>\n    );\n}\n\nexport default BoardPage;\n"]},"metadata":{},"sourceType":"module"}