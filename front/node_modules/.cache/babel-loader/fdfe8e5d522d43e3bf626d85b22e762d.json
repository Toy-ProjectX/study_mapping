{"ast":null,"code":"import _classCallCheck from\"/Users/mindong-yeob/Desktop/fromtHome/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mindong-yeob/Desktop/fromtHome/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/mindong-yeob/Desktop/fromtHome/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/mindong-yeob/Desktop/fromtHome/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/*eslint-disable no-undef*/import React from\"react\";import{Link}from\"react-router-dom\";import Table from\"./board/Table\";import MapHome from\"./map/MapHome\";import{Navbar,Nav,Form,Button}from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TestHome=/*#__PURE__*/function(_React$Component){_inherits(TestHome,_React$Component);var _super=_createSuper(TestHome);function TestHome(){var _this;_classCallCheck(this,TestHome);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={isLogin:false};_this.loginWithKakao=function(){try{return new Promise(function(resolve,reject){if(!Kakao){reject(\"Kakao 인스턴스가 존재하지 않습니다.\");}Kakao.Auth.login({success:function success(auth){console.log(\"정상적으로 로그인 되었습니다.\",auth);_this.setState({isLogin:true});},fail:function fail(err){console.error(err);}});});}catch(err){console.error(err);}};_this.logoutWithKakao=function(){if(Kakao.Auth.getAccessToken()){console.log(\"카카오 인증 액세스 토큰이 존재합니다.\",Kakao.Auth.getAccessToken());Kakao.Auth.logout(function(){console.log(\"로그아웃 되었습니다.\",Kakao.Auth.getAccessToken());_this.setState({isLogin:false});});}};return _this;}_createClass(TestHome,[{key:\"componentDidMount\",value:function componentDidMount(){console.log(\"componentDidMount 가 실행되었습니다.\");Kakao.init(\"b7c5cb9042af5754b5af32fa54b1a96e\");if(Kakao.Auth.getAccessToken()){console.log(\"액세스 토큰이 존재합니다. 세션을 유지합니다.\");this.setState({isLogin:true});}}},{key:\"render\",value:function render(){var isLogin=this.state.isLogin;console.log(this.props);var loginView=/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-info\",className:\"mr-2\",onClick:this.loginWithKakao,children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline-info\",children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})]});var mainView=/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-info\",className:\"mr-2\",onClick:this.logoutWithKakao,children:\"\\uB85C\\uADF8\\uC544\\uC6C3\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline-info\",children:\"\\uB0B4\\uC815\\uBCF4\"})]});return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Navbar,{bg:\"dark\",variant:\"dark\",children:[/*#__PURE__*/_jsx(Navbar.Brand,{href:\"/\",className:\"pt-3\",children:\"StudyMatching\"}),/*#__PURE__*/_jsxs(Nav,{className:\"mr-auto\",children:[/*#__PURE__*/_jsx(Nav.Link,{href:\"/\",children:\"Home\"}),/*#__PURE__*/_jsx(Nav.Link,{href:\"/Table\",children:\"\\uAC8C\\uC2DC\\uD310\"}),/*#__PURE__*/_jsx(Nav.Link,{href:\"/MapHome\",children:\"\\uC9C0\\uB3C4\\uBCF4\\uAE30\"})]}),/*#__PURE__*/_jsx(Form,{inline:true,children:isLogin?mainView:loginView})]})});}}]);return TestHome;}(React.Component);export default TestHome;","map":{"version":3,"sources":["/Users/mindong-yeob/Desktop/fromtHome/src/TestHome.js"],"names":["React","Link","Table","MapHome","Navbar","Nav","Form","Button","TestHome","state","isLogin","loginWithKakao","Promise","resolve","reject","Kakao","Auth","login","success","auth","console","log","setState","fail","err","error","logoutWithKakao","getAccessToken","logout","init","props","loginView","mainView","Component"],"mappings":"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","sourcesContent":["/*eslint-disable no-undef*/\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Table from \"./board/Table\";\nimport MapHome from \"./map/MapHome\";\nimport { Navbar, Nav, Form, Button } from \"react-bootstrap\";\n\nclass TestHome extends React.Component {\n    state = {\n        isLogin: false,\n    };\n\n    /**\n     * 로그인 할 경우 가입된 토큰이거나 이메일이 있을경우 회원 정보를 활용하여 로그인,\n     * (카카오로 그냥 로그인할 경우 로그아웃이 안되는 문제가 있음... 망할 아니면 쿠키를 지워서 강제로 로그아웃을 시킬 수 있음....)\n     * 없을경우 user에서 이메일, 성별, 토큰을 가져와 회원가입 시킨다.\n     *\n     *\n     */\n\n    loginWithKakao = () => {\n        try {\n            return new Promise((resolve, reject) => {\n                if (!Kakao) {\n                    reject(\"Kakao 인스턴스가 존재하지 않습니다.\");\n                }\n                Kakao.Auth.login({\n                    success: (auth) => {\n                        console.log(\"정상적으로 로그인 되었습니다.\", auth);\n                        this.setState({\n                            isLogin: true,\n                        });\n                    },\n                    fail: (err) => {\n                        console.error(err);\n                    },\n                });\n            });\n        } catch (err) {\n            console.error(err);\n        }\n    };\n\n    logoutWithKakao = () => {\n        if (Kakao.Auth.getAccessToken()) {\n            console.log(\n                \"카카오 인증 액세스 토큰이 존재합니다.\",\n                Kakao.Auth.getAccessToken()\n            );\n            Kakao.Auth.logout(() => {\n                console.log(\n                    \"로그아웃 되었습니다.\",\n                    Kakao.Auth.getAccessToken()\n                );\n                this.setState({\n                    isLogin: false,\n                });\n            });\n        }\n    };\n    componentDidMount() {\n        console.log(\"componentDidMount 가 실행되었습니다.\");\n        Kakao.init(\"b7c5cb9042af5754b5af32fa54b1a96e\");\n        if (Kakao.Auth.getAccessToken()) {\n            console.log(\"액세스 토큰이 존재합니다. 세션을 유지합니다.\");\n            this.setState({\n                isLogin: true,\n            });\n        }\n    }\n\n    render() {\n        const { isLogin } = this.state;\n\n        console.log(this.props);\n\n        const loginView = (\n            <div>\n                <Button\n                    variant=\"outline-info\"\n                    className=\"mr-2\"\n                    onClick={this.loginWithKakao}\n                >\n                    로그인\n                </Button>\n                <Button variant=\"outline-info\">회원가입</Button>\n            </div>\n        );\n\n        const mainView = (\n            <div>\n                <Button\n                    variant=\"outline-info\"\n                    className=\"mr-2\"\n                    onClick={this.logoutWithKakao}\n                >\n                    로그아웃\n                </Button>\n                <Button variant=\"outline-info\">내정보</Button>\n            </div>\n        );\n\n        return (\n            <div>\n                <Navbar bg=\"dark\" variant=\"dark\">\n                    <Navbar.Brand href=\"/\" className=\"pt-3\">\n                        StudyMatching\n                    </Navbar.Brand>\n                    <Nav className=\"mr-auto\">\n                        <Nav.Link href=\"/\">Home</Nav.Link>\n                        <Nav.Link href=\"/Table\">게시판</Nav.Link>\n                        <Nav.Link href=\"/MapHome\">지도보기</Nav.Link>\n                    </Nav>\n                    <Form inline>{isLogin ? mainView : loginView}</Form>\n                </Navbar>\n            </div>\n        );\n    }\n}\n\nexport default TestHome;\n"]},"metadata":{},"sourceType":"module"}